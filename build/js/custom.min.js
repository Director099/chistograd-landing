!function(e){"function"==typeof define&&define.amd?define("custom",e):e()}(function(){"use strict";Fancybox.bind("[data-fancybox]",{dragToClose:!1}),document.querySelectorAll('[type="tel"]').forEach(e=>{new IMask(e,{mask:"{+7} (000) 000 00 00",lazy:!1})}),document.querySelectorAll("[data-fancybox-src]")?.forEach(e=>e.addEventListener("click",e=>{Fancybox.close(),Fancybox.show([{src:e.target.dataset.fancyboxSrc,dragToClose:!1,defaultType:"inline"}])}));new class{constructor({watcher:e,elementHidden:t}){this.watch=document.querySelectorAll(e),this.elementHidden=document.querySelector(t),this._init()}hiddenElement(){this.elementHidden.classList.add("visibility-hidden")}showElement(){this.elementHidden.classList.remove("visibility-hidden")}elementInViewport(e){e=e.getBoundingClientRect();return 0<e.top+e.height&&0<window.innerHeight-e.top&&0<e.left+e.width&&0<window.innerWidth-e.left}hasAllElementInViewport(){let t=[];return this.watch.forEach(e=>t.push(this.elementInViewport(e))),t.every(e=>!1===e)}toggleElement(){this.hasAllElementInViewport()?this.showElement():this.hiddenElement()}_init(){this.toggleElement(),window.addEventListener("scroll",()=>this.toggleElement())}}({watcher:"[data-watch-hidden]",elementHidden:".soc-fix"}),document.querySelectorAll("[data-form]").forEach(t=>{const o=new Pristine(t,{classTo:"required",errorTextParent:"required"});["submit","input"].forEach(e=>t.addEventListener(e,e=>{return e=e,t="disabled",i=o.validate(),n=o.form.querySelector("[data-form-btn]"),i?n.removeAttribute(t):n.setAttribute(t,t),!!i||e.preventDefault();var t,i,n}))});new class{constructor(){this._openHeight=0,this._windowWidth=window.innerWidth,this._documentClickHandler=this._documentClickHandler.bind(this),this._windowResizeHandler=this._windowResizeHandler.bind(this),this._init()}_init(){this.fullUpdate(),document.addEventListener("click",this._documentClickHandler),window.addEventListener("resize",this._windowResizeHandler)}_documentClickHandler(e){var t=e.target;t.closest('[data-accordion="button"]')&&(e.preventDefault(),(e=t.closest('[data-accordion="parent"]')).dataset.destroy&&!window.matchMedia(e.dataset.destroy).matches||((e=t.closest('[data-accordion="element"]')).classList.contains("is-active")?this.closeAccordion(e):this.openAccordion(e)))}_windowResizeHandler(){this._windowWidth!==window.innerWidth&&(this._windowWidth=window.innerWidth,this.updateAccordionsHeight())}closeAllAccordion(t){t.querySelectorAll('[data-accordion="element"]').forEach(e=>{e.closest('[data-accordion="parent"]')===t&&this.closeAccordion(e)})}updateAccordionsHeight(e=null){if(e){const t=e.querySelector('[data-accordion="content"]');t.style.transition="none",t.style.maxHeight=t.scrollHeight+"px",void setTimeout(()=>{t.style.transition=null})}else document.querySelectorAll('[data-accordion="element"]:not(.is-active)').forEach(e=>{var t=e.closest('[data-accordion="parent"]'),e=e.querySelector('[data-accordion="content"]');t.dataset.destroy&&!window.matchMedia(t.dataset.destroy).matches?e.style.maxHeight="100%":e.style.maxHeight=null}),document.querySelectorAll('[data-accordion="element"].is-active').forEach(e=>{const t=e.querySelector('[data-accordion="content"]');e=e.closest('[data-accordion="parent"]');e.dataset.destroy&&!window.matchMedia(e.dataset.destroy).matches?t.style.maxHeight="100%":(t.style.transition="none",t.style.maxHeight=t.scrollHeight+"px",setTimeout(()=>{t.style.transition=null}))})}fullUpdate(e=null,t=!1){let i;(i=(e||document).querySelectorAll('[data-accordion="element"].is-active')).forEach(e=>{e.querySelector('[data-accordion="parent"]')||this.openAccordion(e,t)}),this.updateAccordionsHeight()}openAccordion(e,t=!0){var i=e.closest('[data-accordion="parent"]');const n=e.querySelector('[data-accordion="content"]');this._openHeight+=n.scrollHeight,i.hasAttribute("data-single")&&this.closeAllAccordion(i),e.classList.add("is-active"),t?n.style.maxHeight=this._openHeight+"px":(n.style.transition="none",n.style.maxHeight=this._openHeight+"px",setTimeout(()=>{n.style.transition=null})),i.closest('[data-accordion="element"]')?this.openAccordion(i.closest('[data-accordion="element"]'),t):this._openHeight=0}closeAccordion(e,t=!0){const i=e.querySelector('[data-accordion="content"]');i&&(e.classList.remove("is-active"),t?i.style.maxHeight="0":(i.style.transition="none",i.style.maxHeight="0",setTimeout(()=>{i.style.transition=null})))}};new class{constructor({video:e,btn:t}){this.video=document.querySelector(e),this.btn=document.querySelector(t),this.video&&this._init()}toggleIcon(){this.btn.classList.toggle("active")}toggleMutedVideo(){this.video.muted?(this.video.muted=!1,this.video.play()):this.video.muted=!0}_events(){this.btn.addEventListener("click",()=>{this.toggleMutedVideo(),this.toggleIcon()})}_init(){this._events()}}({video:"[data-video]",btn:"[data-toggle-sound-video]"});const t={XL:1300};new Swiper("[data-grid-slider]",{slidesPerView:"auto",grid:{rows:2},spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{[t.XL]:{slidesPerView:3,spaceBetween:20}}}),document.querySelectorAll("[data-slider-view]").forEach(e=>new Swiper(e,{slidesPerView:"1"===e.dataset.sliderView?1:"auto",spaceBetween:"1"===e.dataset.sliderView?15:20,pagination:{el:e.parentElement.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:e.parentElement.querySelector(".swiper-button--next"),prevEl:e.parentElement.querySelector(".swiper-button--prev")},breakpoints:{[t.XL]:{slidesPerView:e.dataset.sliderView,spaceBetween:20}}})),document.querySelector(".soc-fix__pic").addEventListener("click",function(){this.nextElementSibling.classList.toggle("visibility-hidden")})});